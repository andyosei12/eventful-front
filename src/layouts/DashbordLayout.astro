---
export const prerender = false;
import BaseLayout from './BaseLayout.astro';
import DashboardNav from '../components/DashboardNav';
import { CookiesProvider } from 'react-cookie';
import { ViewTransitions } from 'astro:transitions';

// check if user is logged in
// if (!Astro.cookies.get('token')) {
//   console.log('hello');
//   Astro.redirect('/login');
// }
---

<BaseLayout pageTitle="Eventful | Dashboard">
  <ViewTransitions />
  <CookiesProvider defaultSetOptions={{ path: '/' }}>
    <DashboardNav client:only>
      <slot />
    </DashboardNav>
  </CookiesProvider>
</BaseLayout>
